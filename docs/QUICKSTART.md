# クイックスタートガイド

## ブラウザ版（LAZ完全対応）

### 1. ローカルサーバーの起動

```bash
# Pythonのhttpサーバーを使用
python -m http.server 8000
```

または

```powershell
# PowerShellの場合
python -m http.server 8000
```

### 2. ブラウザで開く

http://localhost:8000/index.html

### 3. 使い方

1. **初回起動**
   - ページを開くと自動的にPythonランタイムの初期化が始まります
   - 約30秒〜1分でライブラリのダウンロードと初期化が完了します
   - 「✅ 準備完了！」と表示されたら使用可能です

2. **ファイルの選択**
   - LAZ/LASファイルを選択（✅ **LAZ圧縮ファイル完全対応**）
   - CSVファイルを選択（形式: `label,x,y,z`）

3. **処理の実行**
   - 抽出半径を設定（デフォルト: 0.5m）
   - 「処理を開始」ボタンをクリック
   - 進捗状況がリアルタイムで表示されます

4. **結果のダウンロード**
   - 処理完了後、「ダウンロード」ボタンが表示されます
   - クリックしてoutput.lasファイルを保存

## 動作確認済み

- ✅ LAZ圧縮ファイル（1.75GB、176百万点）
- ✅ 32個の中心座標
- ✅ 抽出半径0.5m
- ✅ 出力: 381,687点

## パフォーマンス

### ブラウザ版（Pyodide）
- **初回起動**: 30秒〜1分（ライブラリダウンロード）
- **2回目以降**: 10〜20秒（キャッシュから読み込み）
- **処理時間**: Python版とほぼ同等（若干遅い可能性あり）
- **メモリ**: ブラウザのメモリ制限内（通常2〜4GB）

### Python版（比較）
- **起動時間**: 即座
- **処理時間**: 176百万点を約4分
- **メモリ**: 効率的なストリーミング処理

## トラブルシューティング

### 「Out of Memory」エラー
- ファイルサイズが大きすぎる場合に発生
- 解決策：Python版を使用

### 初期化が進まない
- ネットワーク接続を確認
- ブラウザのコンソールでエラーを確認
- ページをリロード

### 処理が途中で止まる
- ブラウザのメモリ使用量を確認
- ファイルサイズを小さくする
- Python版を使用

## 推奨ブラウザ

- ✅ Google Chrome（推奨）
- ✅ Microsoft Edge
- ✅ Firefox
- ⚠️ Safari（動作するが遅い場合あり）

## GitHub Pagesでのデプロイ

このツールをGitHub Pagesにデプロイすることで、どこからでもアクセス可能になります。

```bash
# リポジトリをGitHubにプッシュ
git add .
git commit -m "Add LAZ center picking tool with full LAZ support"
git push origin main

# GitHub Pagesを有効化
# Settings > Pages > Source: main branch
```

デプロイ後：
```
https://あなたのユーザー名.github.io/リポジトリ名/
```

でアクセス可能になります。

## 次のステップ

- より大きなファイルを処理したい → Python版を使用
- オフライン環境で使用したい → 初回オンラインで起動後はキャッシュで動作
- カスタマイズしたい → `app_pyodide.js`を編集
